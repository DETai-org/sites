–≠—Ö–µ–π —è –º–æ–≥—É —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å üíñ‚úçÔ∏è

# Personal Site

–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –Ω–∞ Next.js. –ó–¥–µ—Å—å –≥–æ—Ç–æ–≤–∏—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å –±–ª–æ–≥–∞ –∏–∑ WordPress –∏ –Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–º. –≤ Directory_structure.txt.


## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –±–ª–æ–≥–∞ (SSG + –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å i18n)

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π (SSG) –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã–π –±–ª–æ–≥** –Ω–∞ Next.js (App Router) —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–∏–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

### üîπ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (SSG)

* –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ—Å—Ç–æ–≤ (`/[lang]/blog/[slug]`) –∏ –ª–∏—Å—Ç–∏–Ω–≥–∏ (`/[lang]/blog`) –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è **–Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏**.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `generateStaticParams()` –¥–ª—è:

  * –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –ª–∏—Å—Ç–∏–Ω–≥–∞;
  * –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π `{ lang, slug }` –¥–ª—è –ø–æ—Å—Ç–æ–≤.
* Markdown-—Ñ–∞–π–ª—ã —á–∏—Ç–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `fs/promises` **—Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è build**, –∞ –Ω–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å–µ.

### üîπ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

* –ö–∞–∂–¥—ã–π –ø–æ—Å—Ç –∏–º–µ–µ—Ç **–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π ID**.
* –§–∞–π–ª—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ —Å—Ö–µ–º–µ:

  ```
  lib/blog/posts/{postId}/{lang}.md
  ```
* `.md` —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç–∞** (–±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ slug‚Äô–æ–≤).

### üîπ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–æ–≤

* –û–±—â–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –≤ `blog.base.ts`.
* –î–ª—è –ø–æ—Å—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è:

  * `id` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä;
  * `slugs` ‚Äî –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ slug‚Äô–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞;
  * `titles` ‚Äî –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ (—Å fallback –Ω–∞ default);
  * `contentFiles` ‚Äî —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —è–∑—ã–∫–æ–≤ –∏ markdown-—Ñ–∞–π–ª–æ–≤.
* –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è –∏–∑ Markdown ‚Äî –∫–æ–Ω—Ç–µ–Ω—Ç –∏ –º–µ—Ç–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ.

### üîπ i18n –ª–æ–≥–∏–∫–∞

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ `blog.i18n.ts`:

  * —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤;
  * `defaultLang`;
  * –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è `Accept-Language` (–≤ —Ç.—á. `zh ‚Üí cn`).
* –Ø–∑—ã–∫ –º–∞—Ä—à—Ä—É—Ç–∞ —Å—Ç—Ä–æ–≥–æ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è (`isLang`).

### üîπ –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞

* –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞—Ä—à—Ä—É—Ç `/blog/p/[id]`:

  * –Ω–µ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç—Å—è (`noindex`);
  * –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (cookie ‚Üí headers ‚Üí default);
  * –¥–µ–ª–∞–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π URL `/{lang}/blog/{slug}`.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π –∏ –≤–Ω–µ—à–Ω–µ–≥–æ —à–∞—Ä–∏–Ω–≥–∞ –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —è–∑—ã–∫—É.








- `lib/blog/` ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∏ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å—Ç–æ–≤.
- `lib/blog/posts/` ‚Äî Markdown-—Ñ–∞–π–ª—ã –ø–æ—Å—Ç–æ–≤ –ø–æ `postId` –∏ —è–∑—ã–∫–∞–º: `lib/blog/posts/<postId>/<lang>.md`.
- `public/images/posts/` ‚Äî –æ–±–ª–æ–∂–∫–∏ –ø–æ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ `public/` (–±–∏–Ω–∞—Ä–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é, –±–µ–∑ –∫–æ–º–º–∏—Ç–∞).
- Markdown –∫–æ–Ω—Ç–µ–Ω—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π HTML –Ω–∞ —ç—Ç–∞–ø–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ª–µ `contentHtml`.

## –°—ã—Ä—å—ë –∏–∑ WordPress

- `wordpress-data/WordPress.2026-01-06.xml` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤.
- `wordpress-data/uploads/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

## –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏

–°–∫—Ä–∏–ø—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `scripts/` –∏ –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–≤–ª–µ–∫–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å—Ç–æ–≤

```bash
npx tsx scripts/extract-posts.ts eta-istoriya-pro-odnogo-cheloveka
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```bash
npx tsx scripts/optimize-images.ts \
  wordpress-data/uploads/2023/07/maxresdefault.jpg \
  public/images/posts/eta-istoriya-pro-odnogo-cheloveka.webp
```

> ‚ö†Ô∏è –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ WebP, –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–º–µ–Ω–∏—Ç–µ `coverImage.src` –≤ `lib/blog/blog.base.ts` –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –≤ `public/images/posts/`.

### –ß–µ—Ä–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤

```bash
npx tsx scripts/migrate-wordpress.ts
```
