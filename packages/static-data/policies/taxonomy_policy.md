# Taxonomy Policy (Source of Truth + i18n)

## 1) Цель
Зафиксировать единый "Source of Truth" для таксономии (rubrics / categories / cycle / keywords),
с переводами на 5 языков, так чтобы оба сайта (detai-site и personal-site) могли
использовать один общий слой статических данных без дублирования структуры.


---

## 2) Где лежит источник истины
Источник истины для таксономии в репозитории `sites` хранится как per-type JSON файлы в директории:

`/packages/static-data/post_documents/**`

Примеры файлов: `categories.json`, `rubrics.json`, `keywords.json`. В каждом файле каждая сущность хранится **в одном объекте** и включает **все переводы**.

Правило структуры: **один объект = одна сущность = все языки в одном месте**.

Преимущества такого формата:
- проще валидировать полноту переводов;
- проще использовать в коде;
- меньше риска рассинхронизации структуры.

Данные, зависящие от конкретного поста и меняющиеся от статьи к статье (preview, seoLead, keywords_raw), хранятся рядом с текстом поста:
`[сайт из frontmatter]/lib/blog/posts/[slug_поста]/` (на всех языках).


---

## 3) Языки
Поддерживаемые языки фиксированы:

`ru`, `en`, `de`, `fi`, `cn`

Правило качества:
- **каждое** переводимое поле в каждом элементе таксономии должно быть заполнено на всех 5 языках;

---

## 4) Идентификаторы и slug 

см. в route_slugs_policy.md

---

## 5) Формат per-type JSON
Per-type JSON файлы содержат списки сущностей одного типа (rubrics/categories/cycle/keywords) с переводами на все поддерживаемые языки и единым объектом на сущность.

Файл `authors.base.json` хранит имена и фамилии авторов на всех языках; при отображении статьи используется соответствующая локализация автора, указанного в frontmatter.
